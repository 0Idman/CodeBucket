@model DiffViewModel
<html><head>
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0"/>
<style>
body {
    margin:0;
}

table.diff {
    border-collapse:collapse;
    border:1px solid darkgray;
    white-space:pre;
    width:100%;
}
table.diff tbody { 
    font-family:Courier, monospace
}
table.diff tbody th {
    font-family:verdana,arial,'Bitstream Vera Sans',helvetica,sans-serif;
    background:#EED;
    font-weight:normal;
    border:1px solid #BBC;
    color:#886;
    padding:.3em .3em;
    text-align:right;
}
table.diff thead {
    border-bottom:1px solid #BBC;
    background:#EFEFEF;
    font-family:Verdana;
}
table.diff thead th.texttitle {
    text-align:left
}
table.diff tbody td {
    padding:.3em .4em;
    width: 100%;
}
table.diff .empty {
    background-color:#DDD;
}
table.diff .replace {
    background-color:#FD8
}
table.diff .delete {
    background-color:#E99;
}
table.diff .skip {
    background-color:#EFEFEF;
    border:1px solid #AAA;
    border-right:1px solid #BBC;
}
table.diff .insert {
    background-color:#9E9
}
table.diff th.author {
    text-align:left;
    border-top:1px solid #BBC;
    background:#EFEFEF
}

.comment > td {
background:#EED;
border:1px solid #BBC;
}

.comment > td > div.inner {
margin: 10px;
border-radius: 3px;
background:#fff;
border:1px solid #BBC;
padding: 15px 10px 10px 10px;
}

.comment > td > div.inner > header {
padding-left:43px;
position:relative;
color:#3b73af;
font-weight: bold;
display:inline;
}

.comment > td > div.inner > header > img {
position: absolute;
top: 0px;
left: 0px;
border-radius: 3px;
width: 32px;
height: 32px;
display: inline;
border: none;
}

.comment > td > div.inner > .content {
overflow: hidden;
word-wrap: break-word;
margin:0;
padding:0;
padding-left: 43px;
}

.addcomment {
background:#EED;
border:1px solid #BBC;
}

.addcomment textarea {
border:1px solid #999999;
width:100%;
margin:5px 5px;
padding:3px;
-webkit-box-sizing: border-box;
-moz-box-sizing: border-box;
box-sizing: border-box;
}

.addcomment .inner {
padding: 10px 10px;
}

.addcomment a.ok {
 border:1px solid #25729a; -webkit-border-radius: 3px; -moz-border-radius: 3px;border-radius: 3px;font-size:12px;font-family:arial, helvetica, sans-serif; padding: 10px 10px 10px 10px; text-decoration:none; display:inline-block;text-shadow: -1px -1px 0 rgba(0,0,0,0.3);font-weight:bold; color: #FFFFFF;
 background-color: #3093c7; background-image: -webkit-gradient(linear, left top, left bottom, from(#3093c7), to(#1c5a85));
 background-image: -webkit-linear-gradient(top, #3093c7, #1c5a85);
 background-image: -moz-linear-gradient(top, #3093c7, #1c5a85);
 background-image: -ms-linear-gradient(top, #3093c7, #1c5a85);
 background-image: -o-linear-gradient(top, #3093c7, #1c5a85);
 background-image: linear-gradient(to bottom, #3093c7, #1c5a85);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#3093c7, endColorstr=#1c5a85);
 margin-left: 5px;
}

.addcomment a.cancel {
    margin-left: 20px;
    color: #3b73af;
    text-decoration: none;
}
</style>
</head>
    <body>
		<table class="diff" width="100%">
		    <thead>
                <tr>
                    </th></th>
                    </th></th>
				    </th></th>
				</tr>
			</thead>
			<tbody>
                @foreach (var h in Model.Patch)
                {
                    var oLine = h.OldStart;
                    var nLine = h.NewStart;
                    foreach (var l in h.Lines)
                    {
                        <tr>
					        @if(!l.StartsWith("+"))
                            {
                                <th>@oLine</th>
                                oLine = oLine + 1;
                            }
                            else
                            {
					            <th>&nbsp;</th>
					        }
					
                            @if(!l.StartsWith("-"))
                            {
                                <th>@nLine</th>
                                nLine = nLine + 1;
                            }
                            else
                            {
                                <th>&nbsp;</th>
                            }
					
                            <td><pre>@l</pre></td>
        			    </tr>
                    }
                }
			</tbody>
		</table>
    </body>
</html>
